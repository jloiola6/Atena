{% load static %}

<div class="modal oculto" data-modal="adicionar-item">
    <div class="modal-conteudo">
        <h3 class="texto-medio texto-azul">Adicionar Item</h3>

        <form method="POST">
            {% csrf_token %}

            <div class="formulario-grupo">
                <label for="campo-dependencia">Dependência física</label>

                <select name="dependencia" id="campo-dependencia" class="campo-texto campo-grande">
                    {% for tipo in tipos_dependencias %}
                        <optgroup label="{{ tipo.tipo_dependencia__tipo }}">
                            {% for dependencia in dependencias %}
                                {% if dependencia.tipo_dependencia.id == tipo.tipo_dependencia %}
                                    <option value="{{ dependencia.id }}">{{ dependencia.descricao }}</option>
                                {% endif %}
                            {% endfor %}
                        </optgroup>
                    {% endfor %}
                </select>
            </div>

            <div class="formulario-grupo">
                <label for="campo-tipo">Tipo de item</label>

                <select name="tipo" id="campo-tipo" class="campo-texto campo-grande">
                    {% for categoria in itens_categorias %}
                        <optgroup label="{{ categoria.nome }}">
                            {% for tipo in itens_tipos %}
                                {% if tipo.categoria == categoria %}
                                    <option value="{{ tipo.id }}">{{ tipo.nome }}</option>
                                {% endif %}
                            {% endfor %}
                        </optgroup>
                    {% endfor %}
                </select>
            </div>

            <div class="container-botoes">
                <button class="botao botao--azul" type="submit">Abrir formulário</button>
            </div>
        </form>
    </div>
</div>